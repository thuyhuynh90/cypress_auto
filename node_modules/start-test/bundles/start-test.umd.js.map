{"version":3,"file":"start-test.umd.js","sources":["../../../projects/start-test/src/lib/start-test.service.ts","../../../projects/start-test/src/lib/start-test.component.ts","../../../projects/start-test/src/lib/start-test.module.ts","../../../projects/start-test/src/public-api.ts","../../../projects/start-test/src/start-test.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StartTestService {\n\n  constructor() { }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'start-test',\n  templateUrl: './start-test.component.html',\n  styleUrls: ['./start-test.component.css']\n})\nexport class StartTestComponent implements OnInit {\n\n  @Input('testSheet') testSheet: any;\n  @Input('ansFilling') ansFilling: boolean = false;\n  @Input('timeUp') timeUp: Subject<boolean>;\n  @Output('outputFunction') outputFunction: EventEmitter<any> = new EventEmitter();\n\n  finalDataList: any;\n\n  sectionsForm: FormGroup[] = [];\n  inputForm: FormGroup;\n  \n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit(): void {\n    this.timeUp.subscribe(resp =>{\n      if(resp){\n        this.submt();\n      }\n    });\n    this.createTest();\n  }\n\n  initForm(qid: any, code: any = ''){\n    return this.fb.group({\n\t\t\tq: [qid],\n      ans: [],\n      review: [false],\n      cAns: [null]\n    });\n  }\n  createTest(){\n    let i = 1, j = 0;\n    let formsData = [];\n    this.finalDataList = []; \n    this.inputForm = this.fb.group({\n\t\t\tid: [this.testSheet.id],\n    });\n    this.testSheet.sections.forEach(sec => {\n      let finalData: any = new Object();\n      this.finalDataList.push(finalData);\n      finalData.sec = sec.sec;\n      finalData.formsData = [];\n      sec.types.forEach(typs => {\n        let opts: any = [];\n        let secTypes: any = new Object();\n        finalData.formsData.push(secTypes);\n        secTypes.formsData = [];\n        if(typs.qType.code != \"INPUT\"){\n          if(typs.optType == \"number\"){\n            for(let tmp_i = 1; tmp_i <= typs.optCount; tmp_i++){\n              opts.push(tmp_i);\n            }\n          } else {\n            for(let tmp_i = 1; tmp_i <= typs.optCount; tmp_i++){\n              opts.push(String.fromCharCode(tmp_i+64));\n            }\n          }\n        } else {\n          opts = 'input';\n        }\n        secTypes.info = `${typs.qType.name}.`;\n        if((typs.to - typs.from + 1) != typs.consider){\n          secTypes.info = `${secTypes.info} Only first ${typs.consider} answers will be evaluated.`;\n        } else {\n          secTypes.info = `${secTypes.info} All Questions Are Mandatory.`;\n        }\n        for(let tmp_i = typs.from; tmp_i <= typs.to; tmp_i++){\n          let fid: any = this.initForm(`${sec.secId}-${i}`, typs.qType.code);\n          formsData.push(fid);\n          secTypes.formsData.push({\n            'id': fid,\n            'q': i++,\n            'opt': opts,\n            'qType': typs.qType.code,\n            'cutMarks': typs.cutMarks,\n            'marks': typs.marks\n          });\n        }\n      });\n    });\n    this.sectionsForm = formsData;\n    this.inputForm.addControl(\"sections\", this.fb.array(this.sectionsForm));\n    console.log(this.finalDataList);\n  }\n\n  submt(){\n    //let t = Object.assign({}, (this.fb.array(this.sectionsForm)).value);\n    let t = Object.assign({}, this.inputForm.value);\n    console.log(t);\n    this.outputFunction.emit(t);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { StartTestComponent } from './start-test.component';\nimport { CommonModule } from '@angular/common';\nimport { RadioButtonModule } from 'primeng/radiobutton';\nimport { TabViewModule } from 'primeng/tabview';\nimport { MultiSelectModule } from 'primeng/multiselect';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CheckboxModule } from 'primeng/checkbox';\n\n@NgModule({\n  declarations: [\n    StartTestComponent\n  ],\n  imports: [\n    CommonModule,\n    RadioButtonModule,\n    TabViewModule,\n    MultiSelectModule,\n    FormsModule,\n    ReactiveFormsModule,\n    CheckboxModule\n  ],\n  exports: [\n    StartTestComponent\n  ]\n})\nexport class StartTestModule { }\n","/*\n * Public API Surface of start-test\n */\n\nexport * from './lib/start-test.service';\nexport * from './lib/start-test.component';\nexport * from './lib/start-test.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Injectable","EventEmitter","Component","FormBuilder","Input","Output","NgModule","CommonModule","RadioButtonModule","TabViewModule","MultiSelectModule","FormsModule","ReactiveFormsModule","CheckboxModule"],"mappings":"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"}